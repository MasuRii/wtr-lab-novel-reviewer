/* Summary Icon and Tooltip */
.gemini-summary-container {
	/* This container is now a direct child of the .card element */
}

.gemini-summary-trigger {
	position: absolute;
	top: 50%;
	right: -40px; /* Position outside the card container */
	transform: translateY(-50%);
	cursor: pointer;
	z-index: 5;
	background-color: rgb(0 0 0 / 60%);
	border-radius: 50%;
	width: 32px;
	height: 32px;
	display: flex;
	align-items: center;
	justify-content: center;
	color: white;
}

.gemini-summary-trigger .material-icons {
	font-size: 20px;
}

.gemini-summary-card {
	display: none;
	position: absolute;
	top: 50%;
	right: calc(100% + 15px); /* Positioned to the right of the novel card */
	transform: translateY(-50%);
	width: 400px;
	max-height: 600px;
	background-color: #212529;
	border: 1px solid #495057;
	border-radius: 8px;
	padding: 15px;
	z-index: 100;
	color: #f8f9fa;
	font-size: 0.9em;
	box-shadow: 0 6px 12px rgb(0 0 0 / 40%);
	overflow-y: auto;
}

.gemini-summary-card h4 {
	margin: 0 0 8px;
	color: #fff;
	font-size: 1.1em;
	font-weight: 600;
}

.gemini-summary-card h5 {
	margin: 10px 0 5px;
	color: #adb5bd;
	font-size: 1em;
	font-weight: 500;
}

.gemini-summary-card p {
	margin: 0 0 10px;
	line-height: 1.4;
}

.gemini-summary-card .assessment-section {
	margin-bottom: 12px;
}

.gemini-summary-card .assessment-grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
	gap: 8px;
	margin-top: 8px;
}

.gemini-summary-card .assessment-item {
	font-size: 0.85em;
}

.gemini-summary-card .summary-toggle {
	cursor: pointer;
	user-select: none;
	display: flex;
	align-items: center;
	justify-content: space-between;
	background-color: rgb(255 255 255 / 5%);
	padding: 8px 12px;
	border-radius: 4px;
	margin-bottom: 8px;
	transition: background-color 0.2s ease;
}

.gemini-summary-card .summary-toggle:hover {
	background-color: rgb(255 255 255 / 10%);
}

.gemini-summary-card .summary-toggle .toggle-icon {
	font-size: 1.2em;
	transition: transform 0.2s ease;
}

.gemini-summary-card .summary-toggle.collapsed .toggle-icon {
	transform: rotate(-90deg);
}

.gemini-summary-card .summary-content {
	max-height: 0;
	overflow: hidden;
	transition: max-height 0.3s ease;
	margin-bottom: 10px;
}

.gemini-summary-card .summary-content.expanded {
	max-height: 200px; /* Scrolling enabled for long content */
	overflow-y: auto;
}

.gemini-summary-card .summary-content p {
	margin: 10px 0;
	line-height: 1.4;
	padding: 0 12px;
}

.gemini-summary-card.locked {
	display: block;
}

.gemini-summary-card:hover:not(.locked),
.gemini-summary-trigger:hover + .gemini-summary-card:not(.locked) {
	display: block;
}
